docker exec -it delivery_postgres psql -U courier_user -d delivery # –æ—Ç–∫—Ä—ã—Ç—å –¥–æ–∫–µ—Ä
\dt
\d couriers
SELECT * FROM couriers;



docker start delivery_postgres –∑–∞–ø—É—Ç–∏—Ç—å –±–¥ –ø—Ä–æ–µ–∫—Ç–∞

sudo systemctl stop postgresql –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–¥

docker-compose down
docker-compose build
docker-compose up -d –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

docker-compose down –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤


uvicorn main:app --reload --host 0.0.0.0 --port 8000




//–ø—Ä–æ–ª–æ–∂–µ–Ω–Ω—ã–π –ø—É—Ç—å admin.js
/*function getRoute() {
    fetch('http://localhost:8989/route?point=42.98306,47.50472&point=42.96000,47.50000&profile=car&locale=ru&calc_points=true&points_encoded=false')
        .then(response => response.json())
        .then(data => {
            let points = data.paths[0].points;  // —É–∂–µ GeoJSON

            let route = L.geoJSON(points, {
                style: {
                    color: 'blue',
                    weight: 5,
                    opacity: 0.7
                }
            }).addTo(map);

            map.fitBounds(route.getBounds());
        })
        .catch(error => console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –º–∞—Ä—à—Ä—É—Ç–∞:', error));
}*/



POST /register ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —É—á—ë—Ç–∫–∏.

POST /login ‚Üí –≤—Ö–æ–¥.

GET /couriers ‚Üí —Ç–µ–∫—É—â–∏–µ –∫—É—Ä—å–µ—Ä—ã.

POST /couriers/update_position ‚Üí —Ç—Ä–µ–∫–∏–Ω–≥.

GET /couriers/{id} ‚Üí –∏–Ω—Ñ–∞ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫—É—Ä—å–µ—Ä—É.

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω –∏–ª–∏ session id (–æ–±—ã—á–Ω–æ JWT).
–¢–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage –∏–ª–∏ sessionStorage –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ.

sudo systemctl enable postgresql
sudo systemctl start postgresql


python3 -m http.server 8001



6q4oR<UCGR?5q2!
///////////////////////////////////////////////////

–ê –ø–æ—Ç–æ–º, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç —Å–≤–æ–π –¥–æ–º–µ–Ω:
allow_origins=["https://—Ç–≤–æ–π–¥–æ–º–µ–Ω.ru"]

function updateCourierMarker(lat, lon) {
    if (myPositionMarker) {
        myPositionMarker.setLatLng([lat, lon]);
    } else {
        const blueDot = L.divIcon({
            html: "Ô∏èüîµ",
            iconSize: [0, 0],
            iconAnchor: [30, 30]
        });
        myPositionMarker = L.marker([lat, lon], { icon: blueDot }).addTo(map);
    }
    map.setView([lat, lon], map.getZoom());
}